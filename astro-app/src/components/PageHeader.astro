---
interface Breadcrumb {
  label: string;
  href?: string;
}

interface Props {
  title: string;
  subtitle?: string;
  breadcrumbs?: Breadcrumb[];
}

const { title, subtitle, breadcrumbs } = Astro.props;
---
{breadcrumbs && breadcrumbs.length > 0 && (
  <nav aria-label="Breadcrumb" class="flex items-center gap-2 text-sm text-text-muted mb-5">
    <ol class="flex items-center gap-2 list-none p-0 m-0">
      {breadcrumbs.map((crumb, i) => {
        const isLast = i === breadcrumbs.length - 1;
        return (
          <li class="flex items-center gap-2">
            {i > 0 && <i class="bi bi-chevron-right text-[0.65rem]"></i>}
            {isLast ? (
              <span aria-current="page">{crumb.label}</span>
            ) : crumb.href ? (
              <a href={crumb.href} class="text-text-secondary no-underline hover:text-primary transition">
                {i === 0 && <i class="bi bi-house mr-1"></i>}
                {crumb.label}
              </a>
            ) : (
              <span>{crumb.label}</span>
            )}
          </li>
        );
      })}
    </ol>
  </nav>
)}

<h2 class="text-2xl font-bold mb-2">{title}</h2>
{subtitle && (
  <p class="text-text-secondary text-sm mb-8">{subtitle}</p>
)}
